version: 1
frontend:
  phases:
    preBuild:
      commands:
        - nvm use 20
        - npm ci
    build:
      commands:
        - npm run build
        - echo "âœ… Build completed successfully"
        - echo "ğŸ“ Checking generated files:"
        - ls -la dist/
        - echo "ğŸ“„ Verifying main files exist:"
        - test -f dist/index.html && echo "âœ… index.html found" || echo "âŒ index.html missing"
        - test -f dist/main.js && echo "âœ… main.js found" || echo "âŒ main.js missing"
        - test -f dist/styles.css && echo "âœ… styles.css found" || echo "âš ï¸ styles.css not found (may be inline)"
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*